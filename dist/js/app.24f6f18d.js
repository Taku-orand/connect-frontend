(function(e){function t(t){for(var n,a,s=t[0],l=t[1],i=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&p.push(c[a][0]),c[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==c[l]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},c={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"039c":function(e,t,r){"use strict";r("1967")},"0683":function(e,t,r){"use strict";r("cc4b")},1967:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),c=r("6c02"),o=Object(n["g"])("h2",{class:"text-center m-5"},"サインアップ",-1),a={class:"form-group m-5"},s=Object(n["g"])("label",{for:"email"},"メールアドレス",-1),l=Object(n["g"])("small",{id:"emailHelp",class:"form-text text-muted"},"あなたのメールアドレスを他の誰とも共有することはありません。",-1),i={class:"form-group m-5"},u=Object(n["g"])("label",{for:"password"},"パスワード",-1),d=Object(n["g"])("small",{id:"passwordHelp",class:"form-text text-muted"},"パスワードは8文字以上入力してください。",-1),p={class:"form-group m-5"},b=Object(n["g"])("label",{for:"passwordConfirmation"},"パスワードの確認",-1),m=Object(n["g"])("small",{id:"passwordConfirmationHelp",class:"form-text text-muted"},"パスワードは8文字以上入力してください。",-1),f={class:"text-center m-5"};function g(e,t,r,c,g,O){return Object(n["q"])(),Object(n["d"])(n["a"],null,[o,Object(n["g"])("div",a,[s,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.data.email=e}),type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"メールアドレスを入力してください。"},null,512),[[n["A"],c.data.email]]),l]),Object(n["g"])("div",i,[u,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.data.password=e}),type:"password",class:"form-control",id:"password","aria-describedby":"passwordHelp",placeholder:"パスワードを入力してください。"},null,512),[[n["A"],c.data.password]]),d]),Object(n["g"])("div",p,[b,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.data.passwordConfirmation=e}),type:"password",class:"form-control",id:"passwordConfirmation","aria-describedby":"passwordConfirmationHelp",placeholder:"パスワードを確認のためもう一度入力してください。"},null,512),[[n["A"],c.data.passwordConfirmation]]),m]),Object(n["g"])("div",f,[Object(n["g"])("button",{onClick:t[4]||(t[4]=function(){return c.backToHome&&c.backToHome.apply(c,arguments)}),class:"btn btn-secondary m-3"},"ホームに戻る"),Object(n["g"])("button",{onClick:t[5]||(t[5]=function(){return c.signup&&c.signup.apply(c,arguments)}),class:"btn btn-primary m-3"},"アカウント制作")])],64)}var O=r("1da1"),j=(r("96cf"),r("bc3a")),h=r.n(j),w=r("5502"),v={props:{},setup:function(){var e=Object(c["d"])(),t=Object(w["b"])(),r=Object(n["u"])({email:"",password:"",passwordConfirmation:""});function o(){return a.apply(this,arguments)}function a(){return a=Object(O["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,h.a.post("".concat("http://localhost:3000","/signup"),{user:{email:r.email,password:r.password,passwordConfirmation:r.passwordConfirmation}},{withCredentials:!0}).then((function(r){r.data.signed_up?(t.dispatch("checkSignedIn"),t.commit("setAlert",{flag:{showSuccessAlert:!0,showErrorAlert:!1},message:{success:"サインアップに成功し、サインインしました。"}}),e.push({name:"home"})):t.commit("setAlert",{flag:{showSuccessAlert:!1,showErrorAlert:!0},message:{error:"サインアップに失敗しました。既に登録されているメールアドレスか確認パスワードが間違っています。"}})})).catch((function(e){alert(e)}));case 2:case"end":return n.stop()}}),n)}))),a.apply(this,arguments)}function s(){t.commit("resetAlert"),e.push({name:"home"})}return{data:r,signup:o,backToHome:s}}};v.render=g;var y=v,A=Object(n["g"])("h2",{class:"text-center m-5"},"サインイン",-1),k={class:"form-group m-5"},x=Object(n["g"])("label",{for:"email"},"メールアドレス",-1),C=Object(n["g"])("small",{id:"emailHelp",class:"form-text text-muted"},"あなたのメールアドレスを他の誰とも共有することはありません。",-1),S={class:"form-group m-5"},_=Object(n["g"])("label",{for:"password"},"パスワード",-1),H={class:"text-center m-5"};function q(e,t,r,c,o,a){return Object(n["q"])(),Object(n["d"])(n["a"],null,[A,Object(n["g"])("div",k,[x,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.data.email=e}),type:"email",class:"form-control",id:"email","aria-describedby":"emailHelp",placeholder:"メールアドレスを入力してください。"},null,512),[[n["A"],c.data.email]]),C]),Object(n["g"])("div",S,[_,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.data.password=e}),type:"password",class:"form-control",id:"password",placeholder:"パスワードを入力してください。"},null,512),[[n["A"],c.data.password]])]),Object(n["g"])("div",H,[Object(n["g"])("button",{onClick:t[3]||(t[3]=function(){return c.backToHome&&c.backToHome.apply(c,arguments)}),class:"btn btn-secondary m-3"},"ホームに戻る"),Object(n["g"])("button",{onClick:t[4]||(t[4]=function(){return c.signin&&c.signin.apply(c,arguments)}),class:"btn btn-primary m-3"},"アカウント接続")])],64)}var E={props:{},setup:function(){var e=Object(c["d"])(),t=Object(w["b"])(),r=Object(n["u"])({email:"",password:""});function o(){h.a.post("".concat("http://localhost:3000","/signin"),{user:{email:r.email,password:r.password}},{withCredentials:!0}).then((function(r){console.log(r),r.data.signed_in?(t.dispatch("checkSignedIn"),t.commit("setAlert",{flag:{showSuccessAlert:!0,showErrorAlert:!1},message:{success:"サインインに成功しました。"}}),e.push({name:"home"})):t.commit("setAlert",{flag:{showSuccessAlert:!1,showErrorAlert:!0},message:{error:"サインインに失敗しました。メールアドレスかパスワードが間違っています。"}})})).catch((function(e){alert(e)}))}function a(){t.commit("resetAlert"),e.push({name:"home"})}return{data:r,signin:o,backToHome:a}}};E.render=q;var U=E;function T(e,t,r,c,o,a){return Object(n["q"])(),Object(n["d"])("h2",null,"this is home")}var P={props:{},setup:function(){var e=Object(c["c"])(),t=Object(n["u"])({test:Object});function r(){console.log(e)}return{data:t,button:r}}};P.render=T;var $=P,I=Object(c["a"])({history:Object(c["b"])(),routes:[{path:"/",name:"home",component:$},{path:"/signup",name:"signup",component:y},{path:"/signin",name:"signin",component:U}]}),M=Object(w["a"])({state:function(){return{user:{email:"ゲストユーザー"},alert:{flag:{showSuccessAlert:!1,showErrorAlert:!1},message:{success:"",error:""}}}},getters:{},mutations:{updateUser:function(e,t){e.user=t},resetUser:function(e){e.user.email="ゲストユーザー"},setAlert:function(e,t){e.alert=t},resetAlert:function(e){e.alert={flag:{showSuccessAlert:!1,showErrorAlert:!1},message:{success:"",error:""}}}},actions:{checkSignedIn:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("".concat("http://localhost:3000","/signed_in"),{withCredentials:!0}).then((function(e){e.data.signed_in?t.commit("updateUser",e.data.user):t.commit("resetUser")})).catch((function(e){alert(e)}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}}),V={class:"container"};function R(e,t,r,c,o,a){var s=Object(n["w"])("Header"),l=Object(n["w"])("Alert"),i=Object(n["w"])("router-view");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(s),Object(n["g"])("div",V,[Object(n["g"])(l),Object(n["g"])(i)])],64)}var B=Object(n["D"])("data-v-4c0d030a");Object(n["t"])("data-v-4c0d030a");var J={class:"row"},D=Object(n["g"])("div",{class:"col-8"},[Object(n["g"])("h1",{class:"p-2"},"Connect")],-1),z={class:"col-2 d-flex align-items-center justify-content-end"},F={class:"col-2 d-flex align-items-center justify-content-center"},G={class:"dropdown text-center"},K=Object(n["g"])("button",{class:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"メニュー",-1),L={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},N=Object(n["f"])("サインアップ"),Q=Object(n["f"])("サインイン");Object(n["r"])();var W=B((function(e,t,r,c,o,a){var s=Object(n["w"])("router-link");return Object(n["q"])(),Object(n["d"])("header",null,[Object(n["g"])("div",J,[D,Object(n["g"])("div",z,[Object(n["g"])("div",null,Object(n["y"])(e.$store.state.user.email),1)]),Object(n["g"])("div",F,[Object(n["g"])("div",G,[K,Object(n["g"])("div",L,[Object(n["g"])(s,{onClick:t[1]||(t[1]=function(t){return e.$store.commit("resetAlert")}),class:"dropdown-item",to:"/signup"},{default:B((function(){return[N]})),_:1}),Object(n["g"])(s,{onClick:t[2]||(t[2]=function(t){return e.$store.commit("resetAlert")}),class:"dropdown-item",to:"/signin"},{default:B((function(){return[Q]})),_:1}),Object(n["g"])("button",{onClick:t[3]||(t[3]=function(){return c.signOut&&c.signOut.apply(c,arguments)}),class:"dropdown-item"},"サインアウト")])])])])])})),X={props:{user:Object},setup:function(){var e=Object(c["c"])(),t=Object(c["d"])(),r=Object(w["b"])(),o=Object(n["u"])({user_id:e.query.user_id,email:"",password:""});function a(){h.a.delete("".concat("http://localhost:3000","/signout"),{withCredentials:!0}).then((function(e){console.log(e),r.dispatch("checkSignedIn"),e.data.signed_out?(r.commit("setAlert",{flag:{showSuccessAlert:!0,showErrorAlert:!1},message:{success:"ログアウトしました。"}}),t.push({name:"home"})):r.commit("setAlert",{flag:{showSuccessAlert:!1,showErrorAlert:!0},message:{error:"ログアウトに失敗しました。もう一度行ってください。"}})})).catch((function(e){alert(e)}))}return{data:o,signOut:a}}};r("0683");X.render=W,X.__scopeId="data-v-4c0d030a";var Y=X,Z={key:0,class:"alert alert-success mt-3",role:"alert"},ee={key:1,class:"alert alert-danger mt-3",role:"alert"};function te(e,t,r,c,o,a){return Object(n["q"])(),Object(n["d"])(n["a"],null,[e.$store.state.alert.flag.showSuccessAlert?(Object(n["q"])(),Object(n["d"])("div",Z,Object(n["y"])(e.$store.state.alert.message.success),1)):Object(n["e"])("",!0),e.$store.state.alert.flag.showErrorAlert?(Object(n["q"])(),Object(n["d"])("div",ee,Object(n["y"])(e.$store.state.alert.message.error),1)):Object(n["e"])("",!0)],64)}var re={props:{user:Object},setup:function(){var e=Object(n["u"])({});return{data:e}}};re.render=te;var ne=re,ce={name:"App",components:{Header:Y,Alert:ne},props:{},setup:function(){var e=Object(w["b"])(),t=Object(n["u"])({user:Object});return Object(n["o"])((function(){e.dispatch("checkSignedIn")})),{data:t}}};r("039c");ce.render=R;var oe=ce,ae=Object(n["c"])(oe);ae.use(I),ae.use(M),ae.mount("#app")},cc4b:function(e,t,r){}});
//# sourceMappingURL=app.24f6f18d.js.map